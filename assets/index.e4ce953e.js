import{g as Z,h as ee,j as te,k as ae}from"./el-collapse-item.d883af13.js";import{d as ie,a9 as se,a8 as re,ab as ne,g as O,B as oe,ac as le,h as L,P as ce,o as l,c,e,f as t,t as _,b as w,E as de,l as me,F as I,C as D,y as ue,ad as p,ae as F,af as pe,ag as B,ah as H}from"./app.5ae0f635.js";import{d as j,u as he,h as A,m as V,E as Se,a as $,M as G,S as f,f as fe,p as _e}from"./axios.af7164f4.js";import"./events.49e0d246.js";const ve={"max-w-8xl":"","mx-auto":"","mt-10":"","md:mt-30":"","px-8":""},xe={"md:flex":"","justify-between":""},ge=e("h1",{block:"","md:hidden":"","text-28":"","text-primary":"","text-center":"","mb-10":""}," MOPN PASS ",-1),ye={style:{width:"40%"},hidden:"","md:block":""},Pe=["src"],be={style:{width:"100%"},block:"","md:hidden":""},Te=["src"],Ne={"flex-1":""},we=e("h1",{hidden:"","md:block":"","text-48":"","font-bold":"","text-primary":""}," MOPN PASS ",-1),Ce=e("p",{"text-desc":"","mt-10":"","leading-7":"","text-center":"","md:text-left":"","text-12":""}," Own 1/10981 of MOPN. Each pass has 91 blocks. Pass has the untilization of $Energy Recycle, Commnunity Governance, priority of following games. ",-1),ke={key:0,"mt-14":"","md:mt-20":"","text-primary":"","text-13":"","text-center":"","md:text-left":""},Ee={key:1,"text-desc":"","mt-20":"","text-12":"","leading-8":""},Me={key:2,"mt-5":"","md:pr-18":""},Fe={key:0,"md:flex":"","items-end":"","justify-between":""},Be={key:0,"text-center":"","md:text-left":""},Oe={"text-primary":"","text-16":"","md:text-20":""},Le={"text-desc":"","ml-2":"","md:mr-6":"","text-12":""},Ie={key:1,style:{width:"150px"}},De={flex:"","justify-between":""},He={"mt-10":"","md:mt-0":"","mr-2":"",class:"input-number"},je=e("span",{style:{color:"#261802"},"text-16":""},"MINT",-1),Ae={key:1,"text-primary":"","text-30":""},Ve={key:3,"text-primary":"","mt-10":"","text-16":"","md:text-20":""},$e={"mt-20":"","md:mt-50":""},Ge=e("h1",{"text-center":"","text-16":"","md:text-32":"","text-primary":"","leading-10":""}," Holder Benefits ",-1),Ue={grid:"","grid-cols-1":"","md:grid-cols-2":"","gap-10":"","mt-10":"","md:mt-30":""},Re={flex:"","justify-center":"","mb-0":"","md:mb-10":"","md:pr-30":""},ze={"pl-8":"","md:pl-0":""},qe={"text-13":"","md:text-14":"","text-primary":"","text-center":"","md:text-left":"",style:{"margin-left":"-28px"}},Qe=e("span",{hidden:"","md:inline-block":""},"*",-1),We={"text-desc":"","text-12":"","mt-7":"","leading-7":"","text-center":"","md:text-left":""},Ye={"mt-20":"","md:mt-50":"","mb-20":""},Je=e("h1",{"text-center":"","text-16":"","md:text-32":"","text-primary":""}," Mint Plan ",-1),Ke={grid:"","grid-cols-1":"","md:grid-cols-3":"","gap-15":"","mt-16":"","md:mt-30":""},Xe={"text-desc":"",absolute:"","text-13":"",class:"plan-index"},Ze={"text-16":"","md:text-22":"","text-primary":""},et={"text-12":"","my-8":"","text-desc":""},tt={key:0,"text-desc":"","text-12":""},at={"mt-8":""},it={key:1,"text-desc":"","text-12":""},st=e("div",null,"TBD",-1),rt=e("div",{"mt-8":""},"TBD",-1),nt=[st,rt],ot=ie({__name:"index",setup(lt){j.extend(he);const C="0xBeD80008DCE9CAC7bBCED650c58617cB0715FC03",{isConnected:U}=se(),{address:x}=re(),{data:R}=ne(),h=Z(),a=h.SaleConfig,d=O(1),r=O(!1),z=oe("(max-width: 700px)"),q="https://mopn.infura-ipfs.io/ipfs/",Q="https://api.coingecko.com/api/v3/simple/price?ids=Ethereum&vs_currencies=usd",W=[{title:"Energy Recycle",description:"Each pass has 91 blocks\uFF0Cholders can recycle $Energy from $Props used on those blocks based on the Prop price, block level and Energy Content."},{title:"Community Governance",description:"Vote for which NFT collection can join in MOPN, and more governance rights in the future."},{title:"Priority",description:"MOPN is coming up with more interesting games, Pass Holder will have priority of those following games."},{title:"Potential Benefits",description:"Pass Holder are early users and backups of MOPN. MOPN will provide potential benefits for our pass holders."}],m=[{number:"2,000",type:"Whitelist",start_time:"2022.12.31 00:00:00 UTC",planName:"Phase One",mintNum:2e3,publicSalePrice:!1,isStart:!0,price:null,mintType:"preSale",prePrice:"0.05ETH",nexPrice:"",mintPriceName:"preSalePrice"},{number:"3,000",type:"Public",start_time:"2023.1",planName:"Phase Two",mintNum:5e3,publicSalePrice:!0,isStart:!1,price:null,mintType:"secondSale",prePrice:"0.06ETH",nexPrice:"For every 10 sold, add 0.01 E",mintPriceName:"secondSalePrice"},{number:"5,981",type:"Public",start_time:"2023.3",planName:"Phase Three",mintNum:10981,publicSalePrice:!0,isStart:!1,price:null,mintType:"thirdSale",prePrice:"1.06ETH",nexPrice:"For every 10 sold, add 0.01 E",mintPriceName:"thirdSalePrice"}],k=le(),M=async()=>{const s=await $({addressOrName:C,contractInterface:G,signerOrProvider:k}).value,n=await s.saleConfig(),g=await s.totalSupply(),y=await s.whitelistCID();A.get(`${q}${y}`).then(i=>{i.status===200&&(h.SaleConfig.whitelistCID=i.data)});const v={preSaleStartTime:p.from(n.preSaleStartTime).toNumber(),preSalePrice:F(p.from(n.preSalePrice).toString()),secondSaleStartTime:p.from(n.secondSaleStartTime).toNumber(),thirdSaleStartTime:p.from(n.thirdSaleStartTime).toNumber(),secondSalePrice:F(p.from(n.secondSalePrice).toString()),thirdSalePrice:F(p.from(n.thirdSalePrice).toString()),totalSupply:p.from(g).toNumber()};h.setSaleConfig(v)},S=j().unix(),o=L(()=>a.preSaleStartTime>0&&a.totalSupply<m[0].mintNum?a.preSaleStartTime<=S?{...m[0],price:a.preSalePrice,isStart:!0,now:S,startTime:a.preSaleStartTime}:{...m[0],price:a.preSalePrice,isStart:!1,now:S,startTime:a.preSaleStartTime}:a.secondSaleStartTime>0&&a.totalSupply>m[0].mintNum&&a.totalSupply<=m[1].mintNum?a.secondSaleStartTime<S?{...m[1],isStart:!0,now:S,startTime:a.secondSaleStartTime,price:a.secondSalePrice}:{...m[1],isStart:!1,now:S,startTime:a.secondSaleStartTime,price:!1}:a.thirdSaleStartTime>0&&a.totalSupply>m[1].mintNum?a.thirdSaleStartTime<=S?{...m[2],isStart:!0,startTime:a.thirdSaleStartTime,now:S,price:a.thirdSalePrice}:{...m[2],isStart:!1,startTime:a.thirdSaleStartTime,now:S,price:a.thirdSalePrice}:{...m[0]});A.get(Q).then(s=>{s.status===200&&(h.SaleConfig.ethPrice=s.data.ethereum.usd)}),ce(()=>{M()});const Y=async()=>{const s=$({addressOrName:C,contractInterface:G,signerOrProvider:pe(R.value)}).value;let n=null;if(o.publicSalePrice?n=await s.getPublicSalePrice():n=a.preSalePrice,!n)return!1;r.value=!0;const g=await s.totalSupply(),y=p.from(g).toNumber();if(!(o.value.mintNum-y))return f.error("Not enough quantity"),r.value=!1,!1;switch(o.value.mintType){case"preSale":const v=B(n).toString(),i=fe(x.value);if(!i)return f.error("Your address is not on the whitelist"),r.value=!1,!1;const E=await _e(x.value),P={from:x.value,value:p.from(v).mul(d.value)};P.gasLimit=await s.estimateGas.preSale(d.value,i.max,E,P),P.gasLimit=parseInt(P.gasLimit.toNumber()*1.2),s.preSale(d.value,i.max,E,P).then(N=>{try{k.value.waitForTransaction(N.hash).then(u=>{u.status&&u.status===1&&(f.success("Mint Success"),r.value=!1)})}catch(u){f.error("Mint Error"),r.value=!1}}).catch(()=>{r.value=!1});break;case"secondSale":const K=B(a.secondSalePrice).toString(),b={from:x.value,value:p.from(K).mul(d.value)};b.gasLimit=await s.estimateGas.secondSale(d.value,b),b.gasLimit=parseInt(b.gasLimit.toNumber()*1.2),s.secondSale(d.value,b).then(N=>{try{k.value.waitForTransaction(N.hash).then(u=>{u.status&&u.status===1?(f.success("Mint Success"),r.value=!1):(f.success("Mint Error"),r.value=!1)})}catch(u){f.error("Mint Error"),r.value=!1}}).catch(()=>{r.value=!1});break;case"thirdSale":const X=B(a.secondSalePrice).toString(),T={from:x.value,value:p.from(X).mul(d.value)};T.gasLimit=await s.estimateGas.secondSale(d.value,T),T.gasLimit=parseInt(T.gasLimit.toNumber()*1.2),s.secondSale(d.value,T).then(N=>{try{k.value.waitForTransaction(N.hash).then(u=>{u.status&&u.status===1?(f.success("Mint Success"),r.value=!1):(f.success("Mint Error"),r.value=!1)})}catch(u){f.error("Mint Error"),r.value=!1}}).catch(()=>{r.value=!1});break}},J=L(()=>!o.value.isStart||!U.value);return(s,n)=>{const g=ee,y=te,v=ae;return l(),c("div",ve,[e("div",xe,[ge,e("div",ye,[e("img",{width:"340",src:t(V)},null,8,Pe)]),e("div",be,[e("img",{width:"300","mx-auto":"",src:t(V)},null,8,Te)]),e("div",Ne,[we,Ce,t(o).isStart&&t(C)!=="0x0"?(l(),c("div",ke," Mint Price ")):(l(),c("div",Ee," Minting is starting soon\uFF0CTime remaining ")),t(C)!=="0x0"?(l(),c("div",Me,[t(o).isStart?(l(),c("div",Fe,[e("div",null,[t(o).price?(l(),c("div",Be,[e("span",Oe,_(t(o).price)+" ETH",1),e("span",Le,"$"+_(parseFloat(t(o).price*t(h).SaleConfig.ethPrice).toFixed(2)),1)])):(l(),c("div",Ie,[w(g,{type:"circle"})]))]),e("div",De,[e("div",He,[w(t(Se),{modelValue:t(d),"onUpdate:modelValue":n[0]||(n[0]=i=>de(d)?d.value=i:null),size:t(z)?"":"large",min:1,max:t(o).mintNum-t(h).SaleConfig.totalSupply>10?10:t(o).mintNum-t(h).SaleConfig.totalSupply+1},null,8,["modelValue","size","max"])]),w(y,{class:"mobile-input-number md:w-full md:w-auto","mt-10":"","md:mt-0":"",loading:t(r),"loading-type":"rect",disabled:t(J),"md:ml-6":"",color:"radial-gradient(100% 508.08% at 100% 12.88%, #C2A44D 0%, #6B4C19 100%)",onClick:Y},{default:me(()=>[je]),_:1},8,["loading","disabled"])])])):(l(),c("div",Ae,[w(v,{time:(t(o).startTime-t(o).now)*1e3,onEnd:M},null,8,["time"])]))])):(l(),c("div",Ve,[w(v,{time:(1672416e3-t(S))*1e3,onEnd:M},null,8,["time"])]))])]),e("div",$e,[Ge,e("div",Ue,[(l(),c(I,null,D(W,i=>e("div",Re,[e("div",ze,[e("h5",qe,[Qe,ue(" "+_(i.title),1)]),e("p",We,_(i.description),1)])])),64))])]),e("div",Ye,[Je,e("div",Ke,[(l(),c(I,null,D(m,(i,E)=>e("div",{key:E,"text-center":"","py-15":"",relative:"",class:"plan"},[e("div",Xe,_(i.planName),1),e("h5",Ze,_(i.number),1),e("p",et,_(i.type),1),t(h).SaleConfig[i.mintPriceName]!==0&&t(h).SaleConfig[i.mintPriceName]!=="0.0"?(l(),c("div",tt,[e("p",null,_(t(h).SaleConfig[i.mintPriceName])+" ETH",1),e("p",at,_(i.start_time),1)])):(l(),c("div",it,nt))])),64))])])])}}});typeof H=="function"&&H(ot);export{ot as default};
