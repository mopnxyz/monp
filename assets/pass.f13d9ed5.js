import{h as oe,j as le,k as ce,l as de,e as me}from"./el-collapse-item.e8b41e59.js";import{d as ue,a4 as pe,a3 as he,ab as fe,a2 as _e,g as B,B as Se,ac as ve,h as L,L as ye,o,c as l,e,f as t,t as S,b as P,E as xe,l as A,F as Y,C as G,y as ge,n as Pe,D as j,ad as be,ae as we,af as f,ag as I,ah as Te,ai as H,aj as V}from"./app.1aaf6482.js";import{d as k,u as Ce,h as $,m as U,E as Ne,a as R,M as z,S as p,f as Ee,p as ke}from"./whitelist.6886651f.js";import"./events.49e0d246.js";const Me=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"_whitelistCID",type:"string"}],name:"setWhitelistCID",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"whitelistCID",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}],Oe={"max-w-8xl":"","mx-auto":"","mt-10":"","md:mt-30":"","px-8":""},De={"md:flex":"","justify-between":""},Fe=e("h1",{block:"","md:hidden":"","text-28":"","text-primary":"","text-center":"","mb-10":""}," MOPN PASS ",-1),Be={style:{width:"40%"},hidden:"","md:block":""},Ie=["src"],He={style:{width:"100%"},block:"","md:hidden":""},Le=["src"],Ae={"flex-1":""},Ye=e("h1",{hidden:"","md:block":"","text-48":"","font-bold":"","text-primary":""}," MOPN PASS ",-1),Ge=e("p",{"text-desc":"","mt-10":"","leading-7":"","text-center":"","md:text-left":"","text-12":""}," Own 1/10981 of MOPN. Each pass has 91 blocks. Pass has the untilization of $Energy Recycle, Commnunity Governance, priority of following games. ",-1),je={key:0,"mt-14":"","md:mt-20":"","text-primary":"","text-13":"","text-center":"","md:text-left":""},Ve={key:1,"text-desc":"","mt-20":"","text-12":"","leading-8":""},$e={key:2,"mt-5":"","md:pr-18":""},Ue={key:0,"md:flex":"","items-end":"","justify-between":""},Re={key:0,"text-center":"","md:text-left":""},ze={key:0},We={"text-primary":"","text-16":"","md:text-20":""},Ze={"text-desc":"","ml-2":"","md:mr-6":"","text-12":""},qe={key:1,"text-desc":""},Je={key:1,style:{width:"150px"},"mx-auto":""},Qe={flex:"","justify-between":""},Ke={"mt-10":"","md:mt-0":"","mr-2":"",class:"input-number"},Xe=e("span",{style:{color:"#261802"},"text-16":""},"MINT",-1),et={key:1,"text-primary":"","text-30":""},tt={key:3,"text-primary":"","mt-10":"","text-16":"","md:text-20":""},at={"mt-20":"","md:mt-50":""},st=e("h1",{"text-center":"","text-16":"","md:text-32":"","text-primary":"","leading-10":""}," Holder Benefits ",-1),it={grid:"","grid-cols-1":"","md:grid-cols-2":"","gap-10":"","mt-10":"","md:mt-30":""},nt={flex:"","justify-center":"","mb-0":"","md:mb-10":"","md:pr-30":""},rt={"pl-8":"","md:pl-0":""},ot={"text-13":"","md:text-14":"","text-primary":"","text-center":"","md:text-left":"",style:{"margin-left":"-28px"}},lt=e("span",{hidden:"","md:inline-block":""},"*",-1),ct={"text-desc":"","text-12":"","mt-7":"","leading-7":"","text-center":"","md:text-left":""},dt={"mt-20":"","md:mt-50":"","mb-10":""},mt=e("h1",{"text-center":"","text-16":"","md:text-32":"","text-primary":""}," Mint Plan ",-1),ut={grid:"","grid-cols-1":"","md:grid-cols-3":"","gap-15":"","mt-16":"","md:mt-30":""},pt={absolute:"","text-13":"",class:"plan-index"},ht={"text-16":"","md:text-22":"","text-primary":""},ft={"text-12":"","my-8":"","text-desc":""},_t={key:0,"text-desc":"","text-12":""},St={"mt-8":""},vt={key:1,"text-desc":"","text-12":""},yt={key:0},xt=e("div",null,"TBD",-1),gt=e("div",{"mt-8":""}," TBD ",-1),Pt=[xt,gt],bt={key:1},wt=e("div",null,"Ended",-1),Tt=e("div",{"mt-8":""}," Ended ",-1),Ct=[wt,Tt],Nt=ue({__name:"pass",setup(Et){k.extend(Ce);const M="0xBeD80008DCE9CAC7bBCED650c58617cB0715FC03",W="0xa10bCf2E3a60312A3B7EAE9Bc85ff7d079223e04",Z=1,{isConnected:q}=pe(),{address:b}=he(),{data:J}=fe(),m=oe(),{chain:D}=_e(),a=m.SaleConfig,u=B(1),d=B(!1),Q=Se("(max-width: 700px)"),K="https://mopn.infura-ipfs.io/ipfs/",X="https://api.coingecko.com/api/v3/simple/price?ids=Ethereum&vs_currencies=usd",ee=[{title:"Energy Recycle",description:"Each pass has 91 blocks\uFF0Cholders can recycle $Energy from $Props used on those blocks based on the Prop price, block level and Energy Content."},{title:"Community Governance",description:"Vote for which NFT collection can join in MOPN, and more governance rights in the future."},{title:"Priority",description:"MOPN is coming up with more interesting games, Pass Holder will have priority of those following games."},{title:"Potential Benefits",description:"Pass Holder are early users and backups of MOPN. MOPN will provide potential benefits for our pass holders."}],r=B([{index:0,number:"2,000",type:"Whitelist",start_time:"2022.12.31 00:00:00 UTC",planName:"Phase One",mintNum:2e3,publicSalePrice:!1,isStart:!0,price:null,mintType:"preSale",prePrice:"0.05ETH",nexPrice:"",mintPriceName:"preSalePrice"},{index:1,number:"3,000",type:"Public",start_time:"2023.1",planName:"Phase Two",mintNum:5e3,publicSalePrice:!0,isStart:!1,price:null,mintType:"secondSale",prePrice:"0.06ETH",nexPrice:"For every 10 sold, add 0.01 E",mintPriceName:"secondSalePrice"},{index:2,number:"5,981",type:"Public",start_time:"2023.3",planName:"Phase Three",mintNum:10981,publicSalePrice:!0,isStart:!1,price:null,mintType:"thirdSale",prePrice:"1.06ETH",nexPrice:"For every 10 sold, add 0.01 E",mintPriceName:"thirdSalePrice"}]),O=ve(),F=async()=>{const i=await R({addressOrName:M,contractInterface:z,signerOrProvider:O}).value,c=await i.saleConfig(),v=await i.totalSupply(),w=new be("https://polygon.llamarpc.com"),x=await new we(W,Me,w).whitelistCID();$.get(`${K}${x}`).then(y=>{y.status===200&&(m.SaleConfig.whitelistCID=y.data)});const s={preSaleStartTime:f.from(c.preSaleStartTime).toNumber(),preSalePrice:I(f.from(c.preSalePrice).toString()),secondSaleStartTime:f.from(c.secondSaleStartTime).toNumber(),thirdSaleStartTime:f.from(c.thirdSaleStartTime).toNumber(),secondSalePrice:I(f.from(c.secondSalePrice).toString()),thirdSalePrice:I(f.from(c.thirdSalePrice).toString()),totalSupply:f.from(v).toNumber()};r.value[0].start_time=k.unix(s.preSaleStartTime).format("YYYY.MM.DD HH:mm:ss Z"),r.value[1].start_time=k.unix(s.secondSaleStartTime).format("YYYY.MM.DD HH:mm:ss Z"),r.value[2].start_time=k.unix(s.thirdSaleStartTime).format("YYYY.MM.DD HH:mm:ss Z"),m.setSaleConfig(s)},_=k().unix(),n=L(()=>a.preSaleStartTime>0&&a.totalSupply<=r.value[0].mintNum?a.preSaleStartTime<=_?(r.value[0].start_time="On Going",{...r.value[0],price:a.preSalePrice,isStart:!0,now:_,startTime:a.preSaleStartTime}):{...r.value[0],price:a.preSalePrice,isStart:!1,now:_,startTime:a.preSaleStartTime}:a.secondSaleStartTime>0&&a.totalSupply>r.value[0].mintNum&&a.totalSupply<=r.value[1].mintNum?a.secondSaleStartTime<_?(r.value[1].start_time="On Going",{...r.value[1],isStart:!0,now:_,startTime:a.secondSaleStartTime,price:a.secondSalePrice}):{...r.value[1],isStart:!1,now:_,startTime:a.secondSaleStartTime,price:!1}:a.thirdSaleStartTime>0&&a.totalSupply>r.value[1].mintNum?a.thirdSaleStartTime<=_?(r.value[2].start_time="On Going",{...r.value[2],isStart:!0,startTime:a.thirdSaleStartTime,now:_,price:a.thirdSalePrice}):{...r.value[2],isStart:!1,startTime:a.thirdSaleStartTime,now:_,price:a.thirdSalePrice}:{...r.value[0]});$.get(X).then(i=>{i.status===200&&(m.SaleConfig.ethPrice=i.data.ethereum.usd)}),ye(()=>{F()});const te=async()=>{var T;if(!q.value)return!1;if(((T=D==null?void 0:D.value)==null?void 0:T.id)!==Z)return p.error("Unsupported network. Please switch to ethereum."),!1;const i=R({addressOrName:M,contractInterface:z,signerOrProvider:Te(J.value)}).value;let c=null;if(n.publicSalePrice?c=await i.getPublicSalePrice():c=a.preSalePrice,!c)return!1;d.value=!0;const v=await i.totalSupply(),w=f.from(v).toNumber();if(u.value>n.value.mintNum-w)return p.error("Not enough quantity"),d.value=!1,!1;switch(n.value.mintType){case"preSale":const x=H(c).toString(),s=Ee(b.value);if(!s)return p.error("Your address is not on the whitelist"),d.value=!1,!1;const y=await ke(b.value),C={from:b.value,value:f.from(x).mul(u.value)};C.gasLimit=await i.estimateGas.preSale(u.value,s.max,y,C),C.gasLimit=parseInt(C.gasLimit.toNumber()*1.2);try{i.preSale(u.value,s.max,y,C).then(g=>{try{O.value.waitForTransaction(g.hash).then(h=>{h.status&&h.status===1&&(p.success("Mint Success"),d.value=!1)})}catch(h){p.error("Mint Error"),d.value=!1}}).catch(()=>{d.value=!1})}catch(g){p.success("Mint Error"),d.value=!1}break;case"secondSale":const ne=H(a.secondSalePrice).toString(),N={from:b.value,value:f.from(ne).mul(u.value)};N.gasLimit=await i.estimateGas.secondSale(u.value,N),N.gasLimit=parseInt(N.gasLimit.toNumber()*1.2),i.secondSale(u.value,N).then(g=>{try{O.value.waitForTransaction(g.hash).then(h=>{h.status&&h.status===1?(p.success("Mint Success"),d.value=!1):(p.success("Mint Error"),d.value=!1)})}catch(h){p.error("Mint Error"),d.value=!1}}).catch(()=>{d.value=!1});break;case"thirdSale":const re=H(a.secondSalePrice).toString(),E={from:b.value,value:f.from(re).mul(u.value)};E.gasLimit=await i.estimateGas.secondSale(u.value,E),E.gasLimit=parseInt(E.gasLimit.toNumber()*1.2),i.secondSale(u.value,E).then(g=>{try{O.value.waitForTransaction(g.hash).then(h=>{h.status&&h.status===1?(p.success("Mint Success"),d.value=!1):(p.success("Mint Error"),d.value=!1)})}catch(h){p.error("Mint Error"),d.value=!1}}).catch(()=>{d.value=!1});break}},ae=L(()=>!n.value.isStart||m.SaleConfig.totalSupply>=n.value.mintNum),se=i=>{const c=i.mintType===n.value.mintType,v=m.SaleConfig.totalSupply<n.value.mintNum;return{"plan-active":c&&v,plan:!c||!v}},ie=i=>i.isStart?m.SaleConfig.totalSupply<i.mintNum?"On Going":"Ended":i.start_time?i.start_time:"TBD";return(i,c)=>{const v=le,w=ce,T=me,x=de;return o(),l("div",Oe,[e("div",De,[Fe,e("div",Be,[e("img",{width:"340",src:t(U)},null,8,Ie)]),e("div",He,[e("img",{width:"300","mx-auto":"",src:t(U)},null,8,Le)]),e("div",Ae,[Ye,Ge,t(n).isStart&&t(M)!=="0x0"?(o(),l("div",je," Mint Price ")):(o(),l("div",Ve," Minting is starting soon\uFF0CTime remaining ")),t(M)!=="0x0"?(o(),l("div",$e,[t(n).isStart?(o(),l("div",Ue,[e("div",null,[t(n).price?(o(),l("div",Re,[t(m).SaleConfig.totalSupply<t(n).mintNum?(o(),l("div",ze,[e("span",We,S(t(n).price)+" ETH",1),e("span",Ze,"$"+S(parseFloat(t(n).price*t(m).SaleConfig.ethPrice).toFixed(2)==0?.01:parseFloat(t(n).price*t(m).SaleConfig.ethPrice).toFixed(2)),1)])):(o(),l("div",qe," Ended "))])):(o(),l("div",Je,[P(v,{color:"#C2A44D",type:"circle"})]))]),e("div",Qe,[e("div",Ke,[P(t(Ne),{modelValue:t(u),"onUpdate:modelValue":c[0]||(c[0]=s=>xe(u)?u.value=s:null),size:t(Q)?"":"large",min:1,max:t(n).mintNum-t(m).SaleConfig.totalSupply>10?10:t(n).mintNum-t(m).SaleConfig.totalSupply},null,8,["modelValue","size","max"])]),P(T,null,{default:A(()=>[P(w,{class:"mobile-input-number md:w-full md:w-auto","mt-10":"","md:mt-0":"",loading:t(d),"loading-type":"rect",disabled:t(ae),"md:ml-6":"",color:"radial-gradient(100% 508.08% at 100% 12.88%, #C2A44D 0%, #6B4C19 100%)",onClick:te},{default:A(()=>[Xe]),_:1},8,["loading","disabled"])]),_:1})])])):(o(),l("div",et,[P(x,{time:(t(n).startTime-t(n).now)*1e3,onEnd:F},null,8,["time"])]))])):(o(),l("div",tt,[P(x,{time:(1672416e3-t(_))*1e3,onEnd:F},null,8,["time"])]))])]),e("div",at,[st,e("div",it,[(o(),l(Y,null,G(ee,s=>e("div",nt,[e("div",rt,[e("h5",ot,[lt,ge(" "+S(s.title),1)]),e("p",ct,S(s.description),1)])])),64))])]),e("div",dt,[mt,e("div",ut,[(o(!0),l(Y,null,G(t(r),(s,y)=>(o(),l("div",{key:y,"text-center":"","py-15":"",relative:"",class:Pe(se(s))},[e("div",pt,S(s.planName),1),e("h5",ht,S(s.number),1),e("p",ft,S(s.type),1),t(m).SaleConfig[s.mintPriceName]!==0&&t(m).SaleConfig[s.mintPriceName]!=="0.0"?(o(),l("div",_t,[e("p",null,S(t(m).SaleConfig[s.mintPriceName])+" ETH",1),e("p",St,S(ie(s)),1)])):(o(),l("div",vt,[t(n).index<s.index?(o(),l("div",yt,Pt)):j("",!0),t(n).index>s.index?(o(),l("div",bt,Ct)):j("",!0)]))],2))),128))])])])}}});typeof V=="function"&&V(Nt);export{Nt as default};
