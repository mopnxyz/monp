import{h as ie,j as ne,k as re,l as oe,e as le}from"./el-collapse-item.e8118a21.js";import{d as ce,a4 as de,a3 as me,ab as ue,g as D,B as pe,ac as he,h as H,L as fe,o,c as l,e,f as t,t as v,b as P,E as _e,l as I,F as L,C as A,y as Se,n as ve,D as Y,ad as ye,ae as xe,af as h,ag as F,ah as ge,ai as B,aj as G}from"./app.3813b67d.js";import{d as N,u as Pe,h as j,m as V,E as be,a as $,M as R,S as f,f as we,p as Te}from"./whitelist.a8ffc9b1.js";import"./events.49e0d246.js";const Ce=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"_whitelistCID",type:"string"}],name:"setWhitelistCID",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"whitelistCID",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}],Ne={"max-w-8xl":"","mx-auto":"","mt-10":"","md:mt-30":"","px-8":""},Ee={"md:flex":"","justify-between":""},Me=e("h1",{block:"","md:hidden":"","text-28":"","text-primary":"","text-center":"","mb-10":""}," MOPN PASS ",-1),ke={style:{width:"40%"},hidden:"","md:block":""},Oe=["src"],De={style:{width:"100%"},block:"","md:hidden":""},Fe=["src"],Be={"flex-1":""},He=e("h1",{hidden:"","md:block":"","text-48":"","font-bold":"","text-primary":""}," MOPN PASS ",-1),Ie=e("p",{"text-desc":"","mt-10":"","leading-7":"","text-center":"","md:text-left":"","text-12":""}," Own 1/10981 of MOPN. Each pass has 91 blocks. Pass has the untilization of $Energy Recycle, Commnunity Governance, priority of following games. ",-1),Le={key:0,"mt-14":"","md:mt-20":"","text-primary":"","text-13":"","text-center":"","md:text-left":""},Ae={key:1,"text-desc":"","mt-20":"","text-12":"","leading-8":""},Ye={key:2,"mt-5":"","md:pr-18":""},Ge={key:0,"md:flex":"","items-end":"","justify-between":""},je={key:0,"text-center":"","md:text-left":""},Ve={key:0},$e={"text-primary":"","text-16":"","md:text-20":""},Re={"text-desc":"","ml-2":"","md:mr-6":"","text-12":""},Ue={key:1,"text-desc":""},ze={key:1,style:{width:"150px"},"mx-auto":""},We={flex:"","justify-between":""},Ze={"mt-10":"","md:mt-0":"","mr-2":"",class:"input-number"},qe=e("span",{style:{color:"#261802"},"text-16":""},"MINT",-1),Je={key:1,"text-primary":"","text-30":""},Qe={key:3,"text-primary":"","mt-10":"","text-16":"","md:text-20":""},Ke={"mt-20":"","md:mt-50":""},Xe=e("h1",{"text-center":"","text-16":"","md:text-32":"","text-primary":"","leading-10":""}," Holder Benefits ",-1),et={grid:"","grid-cols-1":"","md:grid-cols-2":"","gap-10":"","mt-10":"","md:mt-30":""},tt={flex:"","justify-center":"","mb-0":"","md:mb-10":"","md:pr-30":""},at={"pl-8":"","md:pl-0":""},st={"text-13":"","md:text-14":"","text-primary":"","text-center":"","md:text-left":"",style:{"margin-left":"-28px"}},it=e("span",{hidden:"","md:inline-block":""},"*",-1),nt={"text-desc":"","text-12":"","mt-7":"","leading-7":"","text-center":"","md:text-left":""},rt={"mt-20":"","md:mt-50":"","mb-10":""},ot=e("h1",{"text-center":"","text-16":"","md:text-32":"","text-primary":""}," Mint Plan ",-1),lt={grid:"","grid-cols-1":"","md:grid-cols-3":"","gap-15":"","mt-16":"","md:mt-30":""},ct={absolute:"","text-13":"",class:"plan-index"},dt={"text-16":"","md:text-22":"","text-primary":""},mt={"text-12":"","my-8":"","text-desc":""},ut={key:0,"text-desc":"","text-12":""},pt={"mt-8":""},ht={key:1,"text-desc":"","text-12":""},ft={key:0},_t=e("div",null,"TBD",-1),St=e("div",{"mt-8":""}," TBD ",-1),vt=[_t,St],yt={key:1},xt=e("div",null,"Ended",-1),gt=e("div",{"mt-8":""}," Ended ",-1),Pt=[xt,gt],bt=ce({__name:"pass",setup(wt){N.extend(Pe);const E="0xBeD80008DCE9CAC7bBCED650c58617cB0715FC03",U="0xa10bCf2E3a60312A3B7EAE9Bc85ff7d079223e04",{isConnected:z}=de(),{address:b}=me(),{data:W}=ue(),m=ie(),a=m.SaleConfig,u=D(1),d=D(!1),Z=pe("(max-width: 700px)"),q="https://mopn.infura-ipfs.io/ipfs/",J="https://api.coingecko.com/api/v3/simple/price?ids=Ethereum&vs_currencies=usd",Q=[{title:"Energy Recycle",description:"Each pass has 91 blocks\uFF0Cholders can recycle $Energy from $Props used on those blocks based on the Prop price, block level and Energy Content."},{title:"Community Governance",description:"Vote for which NFT collection can join in MOPN, and more governance rights in the future."},{title:"Priority",description:"MOPN is coming up with more interesting games, Pass Holder will have priority of those following games."},{title:"Potential Benefits",description:"Pass Holder are early users and backups of MOPN. MOPN will provide potential benefits for our pass holders."}],r=D([{index:0,number:"2,000",type:"Whitelist",start_time:"2022.12.31 00:00:00 UTC",planName:"Phase One",mintNum:2e3,publicSalePrice:!1,isStart:!0,price:null,mintType:"preSale",prePrice:"0.05ETH",nexPrice:"",mintPriceName:"preSalePrice"},{index:1,number:"3,000",type:"Public",start_time:"2023.1",planName:"Phase Two",mintNum:5e3,publicSalePrice:!0,isStart:!1,price:null,mintType:"secondSale",prePrice:"0.06ETH",nexPrice:"For every 10 sold, add 0.01 E",mintPriceName:"secondSalePrice"},{index:2,number:"5,981",type:"Public",start_time:"2023.3",planName:"Phase Three",mintNum:10981,publicSalePrice:!0,isStart:!1,price:null,mintType:"thirdSale",prePrice:"1.06ETH",nexPrice:"For every 10 sold, add 0.01 E",mintPriceName:"thirdSalePrice"}]),M=he(),O=async()=>{const i=await $({addressOrName:E,contractInterface:R,signerOrProvider:M}).value,c=await i.saleConfig(),y=await i.totalSupply(),w=new ye("https://polygon.llamarpc.com"),x=await new xe(U,Ce,w).whitelistCID();j.get(`${q}${x}`).then(S=>{S.status===200&&(m.SaleConfig.whitelistCID=S.data)});const s={preSaleStartTime:h.from(c.preSaleStartTime).toNumber(),preSalePrice:F(h.from(c.preSalePrice).toString()),secondSaleStartTime:h.from(c.secondSaleStartTime).toNumber(),thirdSaleStartTime:h.from(c.thirdSaleStartTime).toNumber(),secondSalePrice:F(h.from(c.secondSalePrice).toString()),thirdSalePrice:F(h.from(c.thirdSalePrice).toString()),totalSupply:h.from(y).toNumber()};r.value[0].start_time=N.unix(s.preSaleStartTime).format("YYYY.MM.DD HH:mm:ss Z"),r.value[1].start_time=N.unix(s.secondSaleStartTime).format("YYYY.MM.DD HH:mm:ss Z"),r.value[2].start_time=N.unix(s.thirdSaleStartTime).format("YYYY.MM.DD HH:mm:ss Z"),m.setSaleConfig(s)},_=N().unix(),n=H(()=>a.preSaleStartTime>0&&a.totalSupply<=r.value[0].mintNum?a.preSaleStartTime<=_?(r.value[0].start_time="On Going",{...r.value[0],price:a.preSalePrice,isStart:!0,now:_,startTime:a.preSaleStartTime}):{...r.value[0],price:a.preSalePrice,isStart:!1,now:_,startTime:a.preSaleStartTime}:a.secondSaleStartTime>0&&a.totalSupply>r.value[0].mintNum&&a.totalSupply<=r.value[1].mintNum?a.secondSaleStartTime<_?(r.value[1].start_time="On Going",{...r.value[1],isStart:!0,now:_,startTime:a.secondSaleStartTime,price:a.secondSalePrice}):{...r.value[1],isStart:!1,now:_,startTime:a.secondSaleStartTime,price:!1}:a.thirdSaleStartTime>0&&a.totalSupply>r.value[1].mintNum?a.thirdSaleStartTime<=_?(r.value[2].start_time="On Going",{...r.value[2],isStart:!0,startTime:a.thirdSaleStartTime,now:_,price:a.thirdSalePrice}):{...r.value[2],isStart:!1,startTime:a.thirdSaleStartTime,now:_,price:a.thirdSalePrice}:{...r.value[0]});j.get(J).then(i=>{i.status===200&&(m.SaleConfig.ethPrice=i.data.ethereum.usd)}),fe(()=>{O()});const K=async()=>{if(!z.value)return!1;const i=$({addressOrName:E,contractInterface:R,signerOrProvider:ge(W.value)}).value;let c=null;if(n.publicSalePrice?c=await i.getPublicSalePrice():c=a.preSalePrice,!c)return!1;d.value=!0;const y=await i.totalSupply(),w=h.from(y).toNumber();if(u.value>n.value.mintNum-w)return f.error("Not enough quantity"),d.value=!1,!1;switch(n.value.mintType){case"preSale":const k=B(c).toString(),x=we(b.value);if(!x)return f.error("Your address is not on the whitelist"),d.value=!1,!1;const s=await Te(b.value),S={from:b.value,value:h.from(k).mul(u.value)};S.gasLimit=await i.estimateGas.preSale(u.value,x.max,s,S),S.gasLimit=parseInt(S.gasLimit.toNumber()*1.2);try{i.preSale(u.value,x.max,s,S).then(g=>{try{M.value.waitForTransaction(g.hash).then(p=>{p.status&&p.status===1&&(f.success("Mint Success"),d.value=!1)})}catch(p){f.error("Mint Error"),d.value=!1}}).catch(()=>{d.value=!1})}catch(g){f.success("Mint Error"),d.value=!1}break;case"secondSale":const ae=B(a.secondSalePrice).toString(),T={from:b.value,value:h.from(ae).mul(u.value)};T.gasLimit=await i.estimateGas.secondSale(u.value,T),T.gasLimit=parseInt(T.gasLimit.toNumber()*1.2),i.secondSale(u.value,T).then(g=>{try{M.value.waitForTransaction(g.hash).then(p=>{p.status&&p.status===1?(f.success("Mint Success"),d.value=!1):(f.success("Mint Error"),d.value=!1)})}catch(p){f.error("Mint Error"),d.value=!1}}).catch(()=>{d.value=!1});break;case"thirdSale":const se=B(a.secondSalePrice).toString(),C={from:b.value,value:h.from(se).mul(u.value)};C.gasLimit=await i.estimateGas.secondSale(u.value,C),C.gasLimit=parseInt(C.gasLimit.toNumber()*1.2),i.secondSale(u.value,C).then(g=>{try{M.value.waitForTransaction(g.hash).then(p=>{p.status&&p.status===1?(f.success("Mint Success"),d.value=!1):(f.success("Mint Error"),d.value=!1)})}catch(p){f.error("Mint Error"),d.value=!1}}).catch(()=>{d.value=!1});break}},X=H(()=>!n.value.isStart||m.SaleConfig.totalSupply>=n.value.mintNum),ee=i=>{const c=i.mintType===n.value.mintType,y=m.SaleConfig.totalSupply<n.value.mintNum;return{"plan-active":c&&y,plan:!c||!y}},te=i=>i.isStart?m.SaleConfig.totalSupply<i.mintNum?"On Going":"Ended":i.start_time?i.start_time:"TBD";return(i,c)=>{const y=ne,w=re,k=le,x=oe;return o(),l("div",Ne,[e("div",Ee,[Me,e("div",ke,[e("img",{width:"340",src:t(V)},null,8,Oe)]),e("div",De,[e("img",{width:"300","mx-auto":"",src:t(V)},null,8,Fe)]),e("div",Be,[He,Ie,t(n).isStart&&t(E)!=="0x0"?(o(),l("div",Le," Mint Price ")):(o(),l("div",Ae," Minting is starting soon\uFF0CTime remaining ")),t(E)!=="0x0"?(o(),l("div",Ye,[t(n).isStart?(o(),l("div",Ge,[e("div",null,[t(n).price?(o(),l("div",je,[t(m).SaleConfig.totalSupply<t(n).mintNum?(o(),l("div",Ve,[e("span",$e,v(t(n).price)+" ETH",1),e("span",Re,"$"+v(parseFloat(t(n).price*t(m).SaleConfig.ethPrice).toFixed(2)==0?.01:parseFloat(t(n).price*t(m).SaleConfig.ethPrice).toFixed(2)),1)])):(o(),l("div",Ue," Ended "))])):(o(),l("div",ze,[P(y,{color:"#C2A44D",type:"circle"})]))]),e("div",We,[e("div",Ze,[P(t(be),{modelValue:t(u),"onUpdate:modelValue":c[0]||(c[0]=s=>_e(u)?u.value=s:null),size:t(Z)?"":"large",min:1,max:t(n).mintNum-t(m).SaleConfig.totalSupply>10?10:t(n).mintNum-t(m).SaleConfig.totalSupply},null,8,["modelValue","size","max"])]),P(k,null,{default:I(()=>[P(w,{class:"mobile-input-number md:w-full md:w-auto","mt-10":"","md:mt-0":"",loading:t(d),"loading-type":"rect",disabled:t(X),"md:ml-6":"",color:"radial-gradient(100% 508.08% at 100% 12.88%, #C2A44D 0%, #6B4C19 100%)",onClick:K},{default:I(()=>[qe]),_:1},8,["loading","disabled"])]),_:1})])])):(o(),l("div",Je,[P(x,{time:(t(n).startTime-t(n).now)*1e3,onEnd:O},null,8,["time"])]))])):(o(),l("div",Qe,[P(x,{time:(1672416e3-t(_))*1e3,onEnd:O},null,8,["time"])]))])]),e("div",Ke,[Xe,e("div",et,[(o(),l(L,null,A(Q,s=>e("div",tt,[e("div",at,[e("h5",st,[it,Se(" "+v(s.title),1)]),e("p",nt,v(s.description),1)])])),64))])]),e("div",rt,[ot,e("div",lt,[(o(!0),l(L,null,A(t(r),(s,S)=>(o(),l("div",{key:S,"text-center":"","py-15":"",relative:"",class:ve(ee(s))},[e("div",ct,v(s.planName),1),e("h5",dt,v(s.number),1),e("p",mt,v(s.type),1),t(m).SaleConfig[s.mintPriceName]!==0&&t(m).SaleConfig[s.mintPriceName]!=="0.0"?(o(),l("div",ut,[e("p",null,v(t(m).SaleConfig[s.mintPriceName])+" ETH",1),e("p",pt,v(te(s)),1)])):(o(),l("div",ht,[t(n).index<s.index?(o(),l("div",ft,vt)):Y("",!0),t(n).index>s.index?(o(),l("div",yt,Pt)):Y("",!0)]))],2))),128))])])])}}});typeof G=="function"&&G(bt);export{bt as default};
