System.register(["./el-collapse-item-legacy-2916fb43.js","./app-legacy-00f127c0.js","./connectWallet.vue_vue_type_style_index_0_lang-legacy-cf7bfea8.js","./axios-legacy-eb6f0b94.js","./events-legacy-b672690e.js"],(function(e,t){"use strict";var a,i,r,n,l,o,s,m,d,c,u,p,S,v,x,h,g,f,b,y,P,w,_,T,N,k,C,E,M,D,O,F,H,Y,B,j,G,L,I,A,$,V,z=document.createElement("style");return z.textContent=".var-button{border-radius:8px;border-right:3px solid #74592E;border-bottom:3px solid #74592E;border-top:1px solid #74592E}.mint-btn{padding:6px 20px;border-radius:6px;background:linear-gradient(271.56deg,#29C8FB .43%,#1626FC 104.93%)}.el-input__wrapper{background-color:#74592e;box-shadow:none;border-radius:6px}.el-input,.el-input__inner:hover,.el-input__wrapper.is-focus,.el-input:hover,.el-input__inner,.el-input__inner:focus,.el-input__wrapper:hover{box-shadow:none!important;color:#cfb56a}.el-input-number__decrease,.el-input-number__increase{background-color:#c2a44d;color:#000;border:none}.el-input-number__decrease:hover,.el-input-number__increase:hover{color:#000}.input-number .el-input{height:50px}.input-number .el-input-number{width:160px}.mobile-input-number{width:150px}.el-input-number__decrease.is-disabled,.el-input-number__increase.is-disabled{color:#9a9ca1;background-color:#6b4c19}.el-input__inner:hover{box-shadow:none!important}.plan{border:1px solid #9B7231;border-radius:8px}.plan-active{border:2px solid #C2A44D;border-radius:8px}.plan .plan-index{color:#9b7231}.plan-active .plan-index{color:#c2a44d}.plan-index{background-color:#000;top:-6px;left:20px;padding:0 10px;font-weight:500}.var-snackbar__action{float:left;margin-left:15px;margin-top:15px;width:20px}.var-snackbar__content{float:right;width:auto!important;padding-left:0}.var-snackbar__wrapper{display:block;width:auto}\n",document.head.appendChild(z),{setters:[e=>{a=e.g,i=e.h,r=e.j,n=e.k},e=>{l=e.d,o=e.a9,s=e.a8,m=e.ab,d=e.g,c=e.B,u=e.ac,p=e.h,S=e.P,v=e.o,x=e.c,h=e.e,g=e.f,f=e.t,b=e.b,y=e.E,P=e.l,w=e.F,_=e.C,T=e.y,N=e.n,k=e.D,C=e.ad,E=e.ae,M=e.af,D=e.ag,O=e.ah},e=>{F=e._},e=>{H=e.d,Y=e.u,B=e.h,j=e.m,G=e.E,L=e.a,I=e.M,A=e.S,$=e.f,V=e.p},()=>{}],execute:function(){const t={"max-w-8xl":"","mx-auto":"","mt-10":"","md:mt-30":"","px-8":""},z={"md:flex":"","justify-between":""},Z=h("h1",{block:"","md:hidden":"","text-28":"","text-primary":"","text-center":"","mb-10":""}," MOPN PASS ",-1),R={style:{width:"40%"},hidden:"","md:block":""},U=["src"],W={style:{width:"100%"},block:"","md:hidden":""},q=["src"],J={"flex-1":""},K=h("h1",{hidden:"","md:block":"","text-48":"","font-bold":"","text-primary":""}," MOPN PASS ",-1),Q=h("p",{"text-desc":"","mt-10":"","leading-7":"","text-center":"","md:text-left":"","text-12":""}," Own 1/10981 of MOPN. Each pass has 91 blocks. Pass has the untilization of $Energy Recycle, Commnunity Governance, priority of following games. ",-1),X={key:0,"mt-14":"","md:mt-20":"","text-primary":"","text-13":"","text-center":"","md:text-left":""},ee={key:1,"text-desc":"","mt-20":"","text-12":"","leading-8":""},te={key:2,"mt-5":"","md:pr-18":""},ae={key:0,"md:flex":"","items-end":"","justify-between":""},ie={key:0,"text-center":"","md:text-left":""},re={key:0},ne={"text-primary":"","text-16":"","md:text-20":""},le={"text-desc":"","ml-2":"","md:mr-6":"","text-12":""},oe={key:1,"text-desc":""},se={key:1,style:{width:"150px"},"mx-auto":""},me={flex:"","justify-between":""},de={"mt-10":"","md:mt-0":"","mr-2":"",class:"input-number"},ce=h("span",{style:{color:"#261802"},"text-16":""},"MINT",-1),ue={key:1,"text-primary":"","text-30":""},pe={key:3,"text-primary":"","mt-10":"","text-16":"","md:text-20":""},Se={"mt-20":"","md:mt-50":""},ve=h("h1",{"text-center":"","text-16":"","md:text-32":"","text-primary":"","leading-10":""}," Holder Benefits ",-1),xe={grid:"","grid-cols-1":"","md:grid-cols-2":"","gap-10":"","mt-10":"","md:mt-30":""},he={flex:"","justify-center":"","mb-0":"","md:mb-10":"","md:pr-30":""},ge={"pl-8":"","md:pl-0":""},fe={"text-13":"","md:text-14":"","text-primary":"","text-center":"","md:text-left":"",style:{"margin-left":"-28px"}},be=h("span",{hidden:"","md:inline-block":""},"*",-1),ye={"text-desc":"","text-12":"","mt-7":"","leading-7":"","text-center":"","md:text-left":""},Pe={"mt-20":"","md:mt-50":"","mb-20":""},we=h("h1",{"text-center":"","text-16":"","md:text-32":"","text-primary":""}," Mint Plan ",-1),_e={grid:"","grid-cols-1":"","md:grid-cols-3":"","gap-15":"","mt-16":"","md:mt-30":""},Te={absolute:"","text-13":"",class:"plan-index"},Ne={"text-16":"","md:text-22":"","text-primary":""},ke={"text-12":"","my-8":"","text-desc":""},Ce={key:0,"text-desc":"","text-12":""},Ee={"mt-8":""},Me={key:1,"text-desc":"","text-12":""},De={key:0},Oe=[h("div",null,"TBD",-1),h("div",{"mt-8":""},"TBD",-1)],Fe={key:1},He=[h("div",null,"Ended",-1),h("div",{"mt-8":""},"Ended",-1)],Ye=e("default",l({__name:"pass",setup(e){H.extend(Y);const l="0xBeD80008DCE9CAC7bBCED650c58617cB0715FC03",{isConnected:O}=o(),{address:Ye}=s(),{data:Be}=m(),je=a(),Ge=je.SaleConfig,Le=d(1),Ie=d(!1),Ae=c("(max-width: 700px)"),$e=[{title:"Energy Recycle",description:"Each pass has 91 blocks，holders can recycle $Energy from $Props used on those blocks based on the Prop price, block level and Energy Content."},{title:"Community Governance",description:"Vote for which NFT collection can join in MOPN, and more governance rights in the future."},{title:"Priority",description:"MOPN is coming up with more interesting games, Pass Holder will have priority of those following games."},{title:"Potential Benefits",description:"Pass Holder are early users and backups of MOPN. MOPN will provide potential benefits for our pass holders."}],Ve=d([{index:0,number:"2,000",type:"Whitelist",start_time:"2022.12.31 00:00:00 UTC",planName:"Phase One",mintNum:2e3,publicSalePrice:!1,isStart:!0,price:null,mintType:"preSale",prePrice:"0.05ETH",nexPrice:"",mintPriceName:"preSalePrice"},{index:1,number:"3,000",type:"Public",start_time:"2023.1",planName:"Phase Two",mintNum:5e3,publicSalePrice:!0,isStart:!1,price:null,mintType:"secondSale",prePrice:"0.06ETH",nexPrice:"For every 10 sold, add 0.01 E",mintPriceName:"secondSalePrice"},{index:2,number:"5,981",type:"Public",start_time:"2023.3",planName:"Phase Three",mintNum:10981,publicSalePrice:!0,isStart:!1,price:null,mintType:"thirdSale",prePrice:"1.06ETH",nexPrice:"For every 10 sold, add 0.01 E",mintPriceName:"thirdSalePrice"}]),ze=u(),Ze=async()=>{const e=await L({addressOrName:l,contractInterface:I,signerOrProvider:ze}).value,t=await e.saleConfig(),a=await e.totalSupply(),i=await e.whitelistCID();B.get(`https://mopn.infura-ipfs.io/ipfs/${i}`).then((e=>{200===e.status&&(je.SaleConfig.whitelistCID=e.data)}));const r={preSaleStartTime:C.from(t.preSaleStartTime).toNumber(),preSalePrice:E(C.from(t.preSalePrice).toString()),secondSaleStartTime:C.from(t.secondSaleStartTime).toNumber(),thirdSaleStartTime:C.from(t.thirdSaleStartTime).toNumber(),secondSalePrice:E(C.from(t.secondSalePrice).toString()),thirdSalePrice:E(C.from(t.thirdSalePrice).toString()),totalSupply:C.from(a).toNumber()};Ve.value[0].start_time=H.unix(r.preSaleStartTime).format("YYYY.MM.DD HH:mm:ss Z"),Ve.value[1].start_time=H.unix(r.secondSaleStartTime).format("YYYY.MM.DD HH:mm:ss Z"),Ve.value[2].start_time=H.unix(r.thirdSaleStartTime).format("YYYY.MM.DD HH:mm:ss Z"),je.setSaleConfig(r)},Re=H().unix(),Ue=p((()=>Ge.preSaleStartTime>0&&Ge.totalSupply<=Ve.value[0].mintNum?Ge.preSaleStartTime<=Re?(Ve.value[0].start_time="On Going",{...Ve.value[0],price:Ge.preSalePrice,isStart:!0,now:Re,startTime:Ge.preSaleStartTime}):{...Ve.value[0],price:Ge.preSalePrice,isStart:!1,now:Re,startTime:Ge.preSaleStartTime}:Ge.secondSaleStartTime>0&&Ge.totalSupply>Ve.value[0].mintNum&&Ge.totalSupply<=Ve.value[1].mintNum?Ge.secondSaleStartTime<Re?(Ve.value[1].start_time="On Going",{...Ve.value[1],isStart:!0,now:Re,startTime:Ge.secondSaleStartTime,price:Ge.secondSalePrice}):{...Ve.value[1],isStart:!1,now:Re,startTime:Ge.secondSaleStartTime,price:!1}:Ge.thirdSaleStartTime>0&&Ge.totalSupply>Ve.value[1].mintNum?Ge.thirdSaleStartTime<=Re?(Ve.value[2].start_time="On Going",{...Ve.value[2],isStart:!0,startTime:Ge.thirdSaleStartTime,now:Re,price:Ge.thirdSalePrice}):{...Ve.value[2],isStart:!1,startTime:Ge.thirdSaleStartTime,now:Re,price:Ge.thirdSalePrice}:{...Ve.value[0]}));B.get("https://api.coingecko.com/api/v3/simple/price?ids=Ethereum&vs_currencies=usd").then((e=>{200===e.status&&(je.SaleConfig.ethPrice=e.data.ethereum.usd)})),S((()=>{Ze()}));const We=async()=>{if(!O.value)return!1;const e=L({addressOrName:l,contractInterface:I,signerOrProvider:M(Be.value)}).value;let t=null;if(t=Ue.publicSalePrice?await e.getPublicSalePrice():Ge.preSalePrice,!t)return!1;Ie.value=!0;const a=await e.totalSupply(),i=C.from(a).toNumber();if(Le.value>Ue.value.mintNum-i)return A.error("Not enough quantity"),Ie.value=!1,!1;switch(Ue.value.mintType){case"preSale":const a=D(t).toString(),i=$(Ye.value);if(!i)return A.error("Your address is not on the whitelist"),Ie.value=!1,!1;const n=await V(Ye.value),l={from:Ye.value,value:C.from(a).mul(Le.value)};l.gasLimit=await e.estimateGas.preSale(Le.value,i.max,n,l),l.gasLimit=parseInt(1.2*l.gasLimit.toNumber());try{e.preSale(Le.value,i.max,n,l).then((e=>{try{ze.value.waitForTransaction(e.hash).then((e=>{e.status&&1===e.status&&(A.success("Mint Success"),Ie.value=!1)}))}catch(t){A.error("Mint Error"),Ie.value=!1}})).catch((()=>{Ie.value=!1}))}catch(r){A.success("Mint Error"),Ie.value=!1}break;case"secondSale":const o=D(Ge.secondSalePrice).toString(),s={from:Ye.value,value:C.from(o).mul(Le.value)};s.gasLimit=await e.estimateGas.secondSale(Le.value,s),s.gasLimit=parseInt(1.2*s.gasLimit.toNumber()),e.secondSale(Le.value,s).then((e=>{try{ze.value.waitForTransaction(e.hash).then((e=>{e.status&&1===e.status?(A.success("Mint Success"),Ie.value=!1):(A.success("Mint Error"),Ie.value=!1)}))}catch(r){A.error("Mint Error"),Ie.value=!1}})).catch((()=>{Ie.value=!1}));break;case"thirdSale":const m=D(Ge.secondSalePrice).toString(),d={from:Ye.value,value:C.from(m).mul(Le.value)};d.gasLimit=await e.estimateGas.secondSale(Le.value,d),d.gasLimit=parseInt(1.2*d.gasLimit.toNumber()),e.secondSale(Le.value,d).then((e=>{try{ze.value.waitForTransaction(e.hash).then((e=>{e.status&&1===e.status?(A.success("Mint Success"),Ie.value=!1):(A.success("Mint Error"),Ie.value=!1)}))}catch(r){A.error("Mint Error"),Ie.value=!1}})).catch((()=>{Ie.value=!1}))}},qe=p((()=>!Ue.value.isStart||je.SaleConfig.totalSupply>=Ue.value.mintNum)),Je=e=>{const t=e.mintType===Ue.value.mintType,a=je.SaleConfig.totalSupply<Ue.value.mintNum;return{"plan-active":t&&a,plan:!t||!a}},Ke=e=>e.isStart?je.SaleConfig.totalSupply<e.mintNum?"On Going":"Ended":e.start_time?e.start_time:"TBD";return(e,a)=>{const o=i,s=r,m=F,d=n;return v(),x("div",t,[h("div",z,[Z,h("div",R,[h("img",{width:"340",src:g(j)},null,8,U)]),h("div",W,[h("img",{width:"300","mx-auto":"",src:g(j)},null,8,q)]),h("div",J,[K,Q,g(Ue).isStart&&"0x0"!==g(l)?(v(),x("div",X," Mint Price ")):(v(),x("div",ee," Minting is starting soon，Time remaining ")),"0x0"!==g(l)?(v(),x("div",te,[g(Ue).isStart?(v(),x("div",ae,[h("div",null,[g(Ue).price?(v(),x("div",ie,[g(je).SaleConfig.totalSupply<g(Ue).mintNum?(v(),x("div",re,[h("span",ne,f(g(Ue).price)+" ETH",1),h("span",le,"$"+f(0==parseFloat(g(Ue).price*g(je).SaleConfig.ethPrice).toFixed(2)?.01:parseFloat(g(Ue).price*g(je).SaleConfig.ethPrice).toFixed(2)),1)])):(v(),x("div",oe," Ended "))])):(v(),x("div",se,[b(o,{color:"#C2A44D",type:"circle"})]))]),h("div",me,[h("div",de,[b(g(G),{modelValue:g(Le),"onUpdate:modelValue":a[0]||(a[0]=e=>y(Le)?Le.value=e:null),size:g(Ae)?"":"large",min:1,max:g(Ue).mintNum-g(je).SaleConfig.totalSupply>10?10:g(Ue).mintNum-g(je).SaleConfig.totalSupply},null,8,["modelValue","size","max"])]),b(m,null,{default:P((()=>[b(s,{class:"mobile-input-number md:w-full md:w-auto","mt-10":"","md:mt-0":"",loading:g(Ie),"loading-type":"rect",disabled:g(qe),"md:ml-6":"",color:"radial-gradient(100% 508.08% at 100% 12.88%, #C2A44D 0%, #6B4C19 100%)",onClick:We},{default:P((()=>[ce])),_:1},8,["loading","disabled"])])),_:1})])])):(v(),x("div",ue,[b(d,{time:1e3*(g(Ue).startTime-g(Ue).now),onEnd:Ze},null,8,["time"])]))])):(v(),x("div",pe,[b(d,{time:1e3*(1672416e3-g(Re)),onEnd:Ze},null,8,["time"])]))])]),h("div",Se,[ve,h("div",xe,[(v(),x(w,null,_($e,(e=>h("div",he,[h("div",ge,[h("h5",fe,[be,T(" "+f(e.title),1)]),h("p",ye,f(e.description),1)])]))),64))])]),h("div",Pe,[we,h("div",_e,[(v(!0),x(w,null,_(g(Ve),((e,t)=>(v(),x("div",{key:t,"text-center":"","py-15":"",relative:"",class:N(Je(e))},[h("div",Te,f(e.planName),1),h("h5",Ne,f(e.number),1),h("p",ke,f(e.type),1),0!==g(je).SaleConfig[e.mintPriceName]&&"0.0"!==g(je).SaleConfig[e.mintPriceName]?(v(),x("div",Ce,[h("p",null,f(g(je).SaleConfig[e.mintPriceName])+" ETH",1),h("p",Ee,f(Ke(e)),1)])):(v(),x("div",Me,[g(Ue).index<e.index?(v(),x("div",De,Oe)):k("",!0),g(Ue).index>e.index?(v(),x("div",Fe,He)):k("",!0)]))],2)))),128))])])])}}}));"function"==typeof O&&O(Ye)}}}));
