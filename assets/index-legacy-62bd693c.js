System.register(["./el-collapse-item-legacy-5d0d1ff5.js","./app-legacy-12c76cae.js","./whitelist-legacy-a3daa8a4.js","./events-legacy-b672690e.js"],(function(e,t){"use strict";var a,i,r,n,l,o,s,m,d,c,u,p,S,x,v,h,g,f,b,y,P,w,T,_,N,k,C,E,M,D,O,F,H,Y,B,j,G,L,I,A,$,V,z=document.createElement("style");return z.textContent=".var-button{border-radius:8px;border-right:3px solid #74592E;border-bottom:3px solid #74592E;border-top:1px solid #74592E}.mint-btn{padding:6px 20px;border-radius:6px;background:linear-gradient(271.56deg,#29C8FB .43%,#1626FC 104.93%)}.el-input__wrapper{background-color:#74592e;box-shadow:none;border-radius:6px}.el-input,.el-input__inner:hover,.el-input__wrapper.is-focus,.el-input:hover,.el-input__inner,.el-input__inner:focus,.el-input__wrapper:hover{box-shadow:none!important;color:#cfb56a}.el-input-number__decrease,.el-input-number__increase{background-color:#c2a44d;color:#000;border:none}.el-input-number__decrease:hover,.el-input-number__increase:hover{color:#000}.input-number .el-input{height:50px}.input-number .el-input-number{width:160px}.mobile-input-number{width:150px}.el-input-number__decrease.is-disabled,.el-input-number__increase.is-disabled{color:#9a9ca1;background-color:#6b4c19}.el-input__inner:hover{box-shadow:none!important}.plan{border:1px solid #9B7231;border-radius:8px}.plan-active{border:2px solid #C2A44D;border-radius:8px}.plan .plan-index{color:#9b7231}.plan-active .plan-index{color:#c2a44d}.plan-index{background-color:#000;top:-6px;left:20px;padding:0 10px;font-weight:500}.var-snackbar__action{float:left;margin-left:15px;margin-top:15px;width:20px}.var-snackbar__content{float:right;width:auto!important;padding-left:0}.var-snackbar__wrapper{display:block;width:auto}\n",document.head.appendChild(z),{setters:[e=>{a=e.h,i=e.j,r=e.k,n=e.l,l=e.e},e=>{o=e.d,s=e.a3,m=e.a2,d=e.aa,c=e.g,u=e.B,p=e.ac,S=e.h,x=e.K,v=e.o,h=e.c,g=e.b,f=e.e,b=e.t,y=e.a,P=e.E,w=e.l,T=e.F,_=e.C,N=e.y,k=e.n,C=e.D,E=e.af,M=e.ag,D=e.ah,O=e.ai,F=e.aj},e=>{H=e.d,Y=e.u,B=e.h,j=e.m,G=e.E,L=e.a,I=e.M,A=e.S,$=e.f,V=e.p},()=>{}],execute:function(){const t={"max-w-8xl":"","mx-auto":"","mt-10":"","md:mt-30":"","px-8":""},z={"md:flex":"","justify-between":""},Z=g("h1",{block:"","md:hidden":"","text-28":"","text-primary":"","text-center":"","mb-10":""}," MOPN PASS ",-1),R={style:{width:"40%"},hidden:"","md:block":""},U=["src"],q={style:{width:"100%"},block:"","md:hidden":""},K=["src"],W={"flex-1":""},J=g("h1",{hidden:"","md:block":"","text-48":"","font-bold":"","text-primary":""}," MOPN PASS ",-1),Q=g("p",{"text-desc":"","mt-10":"","leading-7":"","text-center":"","md:text-left":"","text-12":""}," Own 1/10981 of MOPN. Each pass has 91 blocks. Pass has the untilization of $Energy Recycle, Commnunity Governance, priority of following games. ",-1),X={key:0,"mt-14":"","md:mt-20":"","text-primary":"","text-13":"","text-center":"","md:text-left":""},ee={key:1,"text-desc":"","mt-20":"","text-12":"","leading-8":""},te={key:2,"mt-5":"","md:pr-18":""},ae={key:0,"md:flex":"","items-end":"","justify-between":""},ie={key:0,"text-center":"","md:text-left":""},re={key:0},ne={"text-primary":"","text-16":"","md:text-20":""},le={"text-desc":"","ml-2":"","md:mr-6":"","text-12":""},oe={key:1,"text-desc":""},se={key:1,style:{width:"150px"},"mx-auto":""},me={flex:"","justify-between":""},de={"mt-10":"","md:mt-0":"","mr-2":"",class:"input-number"},ce=g("span",{style:{color:"#261802"},"text-16":""},"MINT",-1),ue={key:1,"text-primary":"","text-30":""},pe={key:3,"text-primary":"","mt-10":"","text-16":"","md:text-20":""},Se={"mt-20":"","md:mt-50":""},xe=g("h1",{"text-center":"","text-16":"","md:text-32":"","text-primary":"","leading-10":""}," Holder Benefits ",-1),ve={grid:"","grid-cols-1":"","md:grid-cols-2":"","gap-10":"","mt-10":"","md:mt-30":""},he={flex:"","justify-center":"","mb-0":"","md:mb-10":"","md:pr-30":""},ge={"pl-8":"","md:pl-0":""},fe={"text-13":"","md:text-14":"","text-primary":"","text-center":"","md:text-left":"",style:{"margin-left":"-28px"}},be=g("span",{hidden:"","md:inline-block":""},"*",-1),ye={"text-desc":"","text-12":"","mt-7":"","leading-7":"","text-center":"","md:text-left":""},Pe={"mt-20":"","md:mt-50":"","mb-20":""},we=g("h1",{"text-center":"","text-16":"","md:text-32":"","text-primary":""}," Mint Plan ",-1),Te={grid:"","grid-cols-1":"","md:grid-cols-3":"","gap-15":"","mt-16":"","md:mt-30":""},_e={absolute:"","text-13":"",class:"plan-index"},Ne={"text-16":"","md:text-22":"","text-primary":""},ke={"text-12":"","my-8":"","text-desc":""},Ce={key:0,"text-desc":"","text-12":""},Ee={"mt-8":""},Me={key:1,"text-desc":"","text-12":""},De={key:0},Oe=[g("div",null,"TBD",-1),g("div",{"mt-8":""},"TBD",-1)],Fe={key:1},He=[g("div",null,"Ended",-1),g("div",{"mt-8":""},"Ended",-1)],Ye=e("default",o({__name:"index",setup(e){H.extend(Y);const o="0xBeD80008DCE9CAC7bBCED650c58617cB0715FC03",{isConnected:F}=s(),{address:Ye}=m(),{data:Be}=d(),je=a(),Ge=je.SaleConfig,Le=c(1),Ie=c(!1),Ae=u("(max-width: 700px)"),$e=[{title:"Energy Recycle",description:"Each pass has 91 blocks，holders can recycle $Energy from $Props used on those blocks based on the Prop price, block level and Energy Content."},{title:"Community Governance",description:"Vote for which NFT collection can join in MOPN, and more governance rights in the future."},{title:"Priority",description:"MOPN is coming up with more interesting games, Pass Holder will have priority of those following games."},{title:"Potential Benefits",description:"Pass Holder are early users and backups of MOPN. MOPN will provide potential benefits for our pass holders."}],Ve=c([{index:0,number:"2,000",type:"Whitelist",start_time:"2022.12.31 00:00:00 UTC",planName:"Phase One",mintNum:2e3,publicSalePrice:!1,isStart:!0,price:null,mintType:"preSale",prePrice:"0.05ETH",nexPrice:"",mintPriceName:"preSalePrice"},{index:1,number:"3,000",type:"Public",start_time:"2023.1",planName:"Phase Two",mintNum:5e3,publicSalePrice:!0,isStart:!1,price:null,mintType:"secondSale",prePrice:"0.06ETH",nexPrice:"For every 10 sold, add 0.01 E",mintPriceName:"secondSalePrice"},{index:2,number:"5,981",type:"Public",start_time:"2023.3",planName:"Phase Three",mintNum:10981,publicSalePrice:!0,isStart:!1,price:null,mintType:"thirdSale",prePrice:"1.06ETH",nexPrice:"For every 10 sold, add 0.01 E",mintPriceName:"thirdSalePrice"}]),ze=p(),Ze=async()=>{const e=await L({addressOrName:o,contractInterface:I,signerOrProvider:ze}).value,t=await e.saleConfig(),a=await e.totalSupply(),i=await e.whitelistCID();B.get(`https://mopn.infura-ipfs.io/ipfs/${i}`).then((e=>{200===e.status&&(je.SaleConfig.whitelistCID=e.data)}));const r={preSaleStartTime:E.from(t.preSaleStartTime).toNumber(),preSalePrice:M(E.from(t.preSalePrice).toString()),secondSaleStartTime:E.from(t.secondSaleStartTime).toNumber(),thirdSaleStartTime:E.from(t.thirdSaleStartTime).toNumber(),secondSalePrice:M(E.from(t.secondSalePrice).toString()),thirdSalePrice:M(E.from(t.thirdSalePrice).toString()),totalSupply:E.from(a).toNumber()};Ve.value[0].start_time=H.unix(r.preSaleStartTime).format("YYYY.MM.DD HH:mm:ss Z"),Ve.value[1].start_time=H.unix(r.secondSaleStartTime).format("YYYY.MM.DD HH:mm:ss Z"),Ve.value[2].start_time=H.unix(r.thirdSaleStartTime).format("YYYY.MM.DD HH:mm:ss Z"),je.setSaleConfig(r)},Re=H().unix(),Ue=S((()=>Ge.preSaleStartTime>0&&Ge.totalSupply<=Ve.value[0].mintNum?Ge.preSaleStartTime<=Re?(Ve.value[0].start_time="On Going",{...Ve.value[0],price:Ge.preSalePrice,isStart:!0,now:Re,startTime:Ge.preSaleStartTime}):{...Ve.value[0],price:Ge.preSalePrice,isStart:!1,now:Re,startTime:Ge.preSaleStartTime}:Ge.secondSaleStartTime>0&&Ge.totalSupply>Ve.value[0].mintNum&&Ge.totalSupply<=Ve.value[1].mintNum?Ge.secondSaleStartTime<Re?(Ve.value[1].start_time="On Going",{...Ve.value[1],isStart:!0,now:Re,startTime:Ge.secondSaleStartTime,price:Ge.secondSalePrice}):{...Ve.value[1],isStart:!1,now:Re,startTime:Ge.secondSaleStartTime,price:!1}:Ge.thirdSaleStartTime>0&&Ge.totalSupply>Ve.value[1].mintNum?Ge.thirdSaleStartTime<=Re?(Ve.value[2].start_time="On Going",{...Ve.value[2],isStart:!0,startTime:Ge.thirdSaleStartTime,now:Re,price:Ge.thirdSalePrice}):{...Ve.value[2],isStart:!1,startTime:Ge.thirdSaleStartTime,now:Re,price:Ge.thirdSalePrice}:{...Ve.value[0]}));B.get("https://api.coingecko.com/api/v3/simple/price?ids=Ethereum&vs_currencies=usd").then((e=>{200===e.status&&(je.SaleConfig.ethPrice=e.data.ethereum.usd)})),x((()=>{Ze()}));const qe=async()=>{if(!F.value)return!1;const e=L({addressOrName:o,contractInterface:I,signerOrProvider:D(Be.value)}).value;let t=null;if(t=Ue.publicSalePrice?await e.getPublicSalePrice():Ge.preSalePrice,!t)return!1;Ie.value=!0;const a=await e.totalSupply(),i=E.from(a).toNumber();if(Le.value>Ue.value.mintNum-i)return A.error("Not enough quantity"),Ie.value=!1,!1;switch(Ue.value.mintType){case"preSale":const a=O(t).toString(),i=$(Ye.value);if(!i)return A.error("Your address is not on the whitelist"),Ie.value=!1,!1;const n=await V(Ye.value),l={from:Ye.value,value:E.from(a).mul(Le.value)};l.gasLimit=await e.estimateGas.preSale(Le.value,i.max,n,l),l.gasLimit=parseInt(1.2*l.gasLimit.toNumber());try{e.preSale(Le.value,i.max,n,l).then((e=>{try{ze.value.waitForTransaction(e.hash).then((e=>{e.status&&1===e.status&&(A.success("Mint Success"),Ie.value=!1)}))}catch(t){A.error("Mint Error"),Ie.value=!1}})).catch((()=>{Ie.value=!1}))}catch(r){A.success("Mint Error"),Ie.value=!1}break;case"secondSale":const o=O(Ge.secondSalePrice).toString(),s={from:Ye.value,value:E.from(o).mul(Le.value)};s.gasLimit=await e.estimateGas.secondSale(Le.value,s),s.gasLimit=parseInt(1.2*s.gasLimit.toNumber()),e.secondSale(Le.value,s).then((e=>{try{ze.value.waitForTransaction(e.hash).then((e=>{e.status&&1===e.status?(A.success("Mint Success"),Ie.value=!1):(A.success("Mint Error"),Ie.value=!1)}))}catch(r){A.error("Mint Error"),Ie.value=!1}})).catch((()=>{Ie.value=!1}));break;case"thirdSale":const m=O(Ge.secondSalePrice).toString(),d={from:Ye.value,value:E.from(m).mul(Le.value)};d.gasLimit=await e.estimateGas.secondSale(Le.value,d),d.gasLimit=parseInt(1.2*d.gasLimit.toNumber()),e.secondSale(Le.value,d).then((e=>{try{ze.value.waitForTransaction(e.hash).then((e=>{e.status&&1===e.status?(A.success("Mint Success"),Ie.value=!1):(A.success("Mint Error"),Ie.value=!1)}))}catch(r){A.error("Mint Error"),Ie.value=!1}})).catch((()=>{Ie.value=!1}))}},Ke=S((()=>!Ue.value.isStart||je.SaleConfig.totalSupply>=Ue.value.mintNum)),We=e=>{const t=e.mintType===Ue.value.mintType,a=je.SaleConfig.totalSupply<Ue.value.mintNum;return{"plan-active":t&&a,plan:!t||!a}},Je=e=>e.isStart?je.SaleConfig.totalSupply<e.mintNum?"On Going":"Ended":e.start_time?e.start_time:"TBD";return(e,a)=>{const s=i,m=r,d=l,c=n;return v(),h("div",t,[g("div",z,[Z,g("div",R,[g("img",{width:"340",src:f(j)},null,8,U)]),g("div",q,[g("img",{width:"300","mx-auto":"",src:f(j)},null,8,K)]),g("div",W,[J,Q,f(Ue).isStart&&"0x0"!==f(o)?(v(),h("div",X," Mint Price ")):(v(),h("div",ee," Minting is starting soon，Time remaining ")),"0x0"!==f(o)?(v(),h("div",te,[f(Ue).isStart?(v(),h("div",ae,[g("div",null,[f(Ue).price?(v(),h("div",ie,[f(je).SaleConfig.totalSupply<f(Ue).mintNum?(v(),h("div",re,[g("span",ne,b(f(Ue).price)+" ETH",1),g("span",le,"$"+b(0==parseFloat(f(Ue).price*f(je).SaleConfig.ethPrice).toFixed(2)?.01:parseFloat(f(Ue).price*f(je).SaleConfig.ethPrice).toFixed(2)),1)])):(v(),h("div",oe," Ended "))])):(v(),h("div",se,[y(s,{color:"#C2A44D",type:"circle"})]))]),g("div",me,[g("div",de,[y(f(G),{modelValue:f(Le),"onUpdate:modelValue":a[0]||(a[0]=e=>P(Le)?Le.value=e:null),size:f(Ae)?"":"large",min:1,max:f(Ue).mintNum-f(je).SaleConfig.totalSupply>10?10:f(Ue).mintNum-f(je).SaleConfig.totalSupply},null,8,["modelValue","size","max"])]),y(d,null,{default:w((()=>[y(m,{class:"mobile-input-number md:w-full md:w-auto","mt-10":"","md:mt-0":"",loading:f(Ie),"loading-type":"rect",disabled:f(Ke),"md:ml-6":"",color:"radial-gradient(100% 508.08% at 100% 12.88%, #C2A44D 0%, #6B4C19 100%)",onClick:qe},{default:w((()=>[ce])),_:1},8,["loading","disabled"])])),_:1})])])):(v(),h("div",ue,[y(c,{time:1e3*(f(Ue).startTime-f(Ue).now),onEnd:Ze},null,8,["time"])]))])):(v(),h("div",pe,[y(c,{time:1e3*(1672416e3-f(Re)),onEnd:Ze},null,8,["time"])]))])]),g("div",Se,[xe,g("div",ve,[(v(),h(T,null,_($e,(e=>g("div",he,[g("div",ge,[g("h5",fe,[be,N(" "+b(e.title),1)]),g("p",ye,b(e.description),1)])]))),64))])]),g("div",Pe,[we,g("div",Te,[(v(!0),h(T,null,_(f(Ve),((e,t)=>(v(),h("div",{key:t,"text-center":"","py-15":"",relative:"",class:k(We(e))},[g("div",_e,b(e.planName),1),g("h5",Ne,b(e.number),1),g("p",ke,b(e.type),1),0!==f(je).SaleConfig[e.mintPriceName]&&"0.0"!==f(je).SaleConfig[e.mintPriceName]?(v(),h("div",Ce,[g("p",null,b(f(je).SaleConfig[e.mintPriceName])+" ETH",1),g("p",Ee,b(Je(e)),1)])):(v(),h("div",Me,[f(Ue).index<e.index?(v(),h("div",De,Oe)):C("",!0),f(Ue).index>e.index?(v(),h("div",Fe,He)):C("",!0)]))],2)))),128))])])])}}}));"function"==typeof F&&F(Ye)}}}));
