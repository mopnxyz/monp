System.register(["./el-collapse-item-legacy-5d0d1ff5.js","./app-legacy-12c76cae.js","./whitelist-legacy-a3daa8a4.js","./events-legacy-b672690e.js"],(function(e,t){"use strict";var a,i,r,n,l,s,o,d,m,u,c,p,v,S,x,h,y,f,g,b,w,P,T,_,N,C,k,E,M,O,D,B,F,H,I,Y,j,G,L,A,$,V,z,U,Z,R,W=document.createElement("style");return W.textContent=".var-button{border-radius:8px;border-right:3px solid #74592E;border-bottom:3px solid #74592E;border-top:1px solid #74592E}.mint-btn{padding:6px 20px;border-radius:6px;background:linear-gradient(271.56deg,#29C8FB .43%,#1626FC 104.93%)}.el-input__wrapper{background-color:#74592e;box-shadow:none;border-radius:6px}.el-input,.el-input__inner:hover,.el-input__wrapper.is-focus,.el-input:hover,.el-input__inner,.el-input__inner:focus,.el-input__wrapper:hover{box-shadow:none!important;color:#cfb56a}.el-input-number__decrease,.el-input-number__increase{background-color:#c2a44d;color:#000;border:none}.el-input-number__decrease:hover,.el-input-number__increase:hover{color:#000}.input-number .el-input{height:50px}.input-number .el-input-number{width:160px}.mobile-input-number{width:150px}.el-input-number__decrease.is-disabled,.el-input-number__increase.is-disabled{color:#9a9ca1;background-color:#6b4c19}.el-input__inner:hover{box-shadow:none!important}.plan{border:1px solid #9B7231;border-radius:8px}.plan-active{border:2px solid #C2A44D;border-radius:8px}.plan .plan-index{color:#9b7231}.plan-active .plan-index{color:#c2a44d}.plan-index{background-color:#000;top:-6px;left:20px;padding:0 10px;font-weight:500}.var-snackbar__action{float:left;margin-left:15px;margin-top:15px;width:20px}.var-snackbar__content{float:right;width:auto!important;padding-left:0}.var-snackbar__wrapper{display:block;width:auto}\n",document.head.appendChild(W),{setters:[e=>{a=e.h,i=e.j,r=e.k,n=e.l,l=e.e},e=>{s=e.d,o=e.a3,d=e.a2,m=e.aa,u=e.a1,c=e.ab,p=e.g,v=e.B,S=e.ac,x=e.h,h=e.K,y=e.o,f=e.c,g=e.b,b=e.e,w=e.t,P=e.a,T=e.E,_=e.l,N=e.F,C=e.C,k=e.y,E=e.n,M=e.D,O=e.ad,D=e.ae,B=e.af,F=e.ag,H=e.ah,I=e.ai,Y=e.aj},e=>{j=e.d,G=e.u,L=e.h,A=e.m,$=e.E,V=e.a,z=e.M,U=e.S,Z=e.f,R=e.p},()=>{}],execute:function(){const t=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"_whitelistCID",type:"string"}],name:"setWhitelistCID",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"whitelistCID",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}],W={"max-w-8xl":"","mx-auto":"","mt-10":"","md:mt-30":"","px-8":""},q={"md:flex":"","justify-between":""},K=g("h1",{block:"","md:hidden":"","text-28":"","text-primary":"","text-center":"","mb-10":""}," MOPN PASS ",-1),J={style:{width:"40%"},hidden:"","md:block":""},Q=["src"],X={style:{width:"100%"},block:"","md:hidden":""},ee=["src"],te={"flex-1":""},ae=g("h1",{hidden:"","md:block":"","text-48":"","font-bold":"","text-primary":""}," MOPN PASS ",-1),ie=g("p",{"text-desc":"","mt-10":"","leading-7":"","text-center":"","md:text-left":"","text-12":""}," Own 1/10981 of MOPN. Each pass has 91 blocks. Pass has the untilization of $Energy Recycle, Commnunity Governance, priority of following games. ",-1),re={key:0,"mt-14":"","md:mt-20":"","text-primary":"","text-13":"","text-center":"","md:text-left":""},ne={key:1,"text-desc":"","mt-20":"","text-12":"","leading-8":""},le={key:2,"mt-5":"","md:pr-18":""},se={key:0,"md:flex":"","items-end":"","justify-between":""},oe={key:0,"text-center":"","md:text-left":""},de={key:0},me={"text-primary":"","text-16":"","md:text-20":""},ue={"text-desc":"","ml-2":"","md:mr-6":"","text-12":""},ce={key:1,"text-desc":""},pe={key:1,style:{width:"150px"},"mx-auto":""},ve={flex:"","justify-between":""},Se={"mt-10":"","md:mt-0":"","mr-2":"",class:"input-number"},xe=g("span",{style:{color:"#261802"},"text-16":""},"MINT",-1),he={key:1,"text-primary":"","text-30":""},ye={key:3,"text-primary":"","mt-10":"","text-16":"","md:text-20":""},fe={"mt-20":"","md:mt-50":""},ge=g("h1",{"text-center":"","text-16":"","md:text-32":"","text-primary":"","leading-10":""}," Holder Benefits ",-1),be={grid:"","grid-cols-1":"","md:grid-cols-2":"","gap-10":"","mt-10":"","md:mt-30":""},we={flex:"","justify-center":"","mb-0":"","md:mb-10":"","md:pr-30":""},Pe={"pl-8":"","md:pl-0":""},Te={"text-13":"","md:text-14":"","text-primary":"","text-center":"","md:text-left":"",style:{"margin-left":"-28px"}},_e=g("span",{hidden:"","md:inline-block":""},"*",-1),Ne={"text-desc":"","text-12":"","mt-7":"","leading-7":"","text-center":"","md:text-left":""},Ce={"mt-20":"","md:mt-50":"","mb-10":""},ke=g("h1",{"text-center":"","text-16":"","md:text-32":"","text-primary":""}," Mint Plan ",-1),Ee={grid:"","grid-cols-1":"","md:grid-cols-3":"","gap-15":"","mt-16":"","md:mt-30":""},Me={absolute:"","text-13":"",class:"plan-index"},Oe={"text-16":"","md:text-22":"","text-primary":""},De={"text-12":"","my-8":"","text-desc":""},Be={key:0,"text-desc":"","text-12":""},Fe={"mt-8":""},He={key:1,"text-desc":"","text-12":""},Ie={key:0},Ye=[g("div",null,"TBD",-1),g("div",{"mt-8":""}," TBD ",-1)],je={key:1},Ge=[g("div",null,"Ended",-1),g("div",{"mt-8":""}," Ended ",-1)],Le=e("default",s({__name:"pass",setup(e){j.extend(G);const s="0xBeD80008DCE9CAC7bBCED650c58617cB0715FC03",{isConnected:Y}=o(),{address:Le}=d(),{data:Ae}=m(),$e=a(),{chain:Ve}=u(),{data:ze}=c({addressOrName:Le.value}),Ue=$e.SaleConfig,Ze=p(1),Re=p(!1),We=v("(max-width: 700px)"),qe=[{title:"Energy Recycle",description:"Each pass has 91 blocks，holders can recycle $Energy from $Props used on those blocks based on the Prop price, block level and Energy Content."},{title:"Community Governance",description:"Vote for which NFT collection can join in MOPN, and more governance rights in the future."},{title:"Priority",description:"MOPN is coming up with more interesting games, Pass Holder will have priority of those following games."},{title:"Potential Benefits",description:"Pass Holder are early users and backups of MOPN. MOPN will provide potential benefits for our pass holders."}],Ke=p([{index:0,number:"2,000",type:"Whitelist",start_time:"2022.12.31 00:00:00 UTC",planName:"Phase One",mintNum:2e3,publicSalePrice:!1,isStart:!0,price:null,mintType:"preSale",prePrice:"0.05ETH",nexPrice:"",mintPriceName:"preSalePrice"},{index:1,number:"3,000",type:"Public",start_time:"2023.1",planName:"Phase Two",mintNum:5e3,publicSalePrice:!0,isStart:!1,price:null,mintType:"secondSale",prePrice:"0.06ETH",nexPrice:"For every 10 sold, add 0.01 E",mintPriceName:"secondSalePrice"},{index:2,number:"5,981",type:"Public",start_time:"2023.3",planName:"Phase Three",mintNum:10981,publicSalePrice:!0,isStart:!1,price:null,mintType:"thirdSale",prePrice:"1.06ETH",nexPrice:"For every 10 sold, add 0.01 E",mintPriceName:"thirdSalePrice"}]),Je=S(),Qe=async()=>{const e=await V({addressOrName:s,contractInterface:z,signerOrProvider:Je}).value,a=await e.saleConfig(),i=await e.totalSupply(),r=new O("https://polygon-rpc.com"),n=new D("0xa10bCf2E3a60312A3B7EAE9Bc85ff7d079223e04",t,r),l=await n.whitelistCID();L.get(`https://mopn.infura-ipfs.io/ipfs/${l}`).then((e=>{200===e.status&&($e.SaleConfig.whitelistCID=e.data)}));const o={preSaleStartTime:B.from(a.preSaleStartTime).toNumber(),preSalePrice:F(B.from(a.preSalePrice).toString()),secondSaleStartTime:B.from(a.secondSaleStartTime).toNumber(),thirdSaleStartTime:B.from(a.thirdSaleStartTime).toNumber(),secondSalePrice:F(B.from(a.secondSalePrice).toString()),thirdSalePrice:F(B.from(a.thirdSalePrice).toString()),totalSupply:B.from(i).toNumber()};Ke.value[0].start_time=j.unix(o.preSaleStartTime).format("YYYY.MM.DD HH:mm:ss Z"),Ke.value[1].start_time=j.unix(o.secondSaleStartTime).format("YYYY.MM.DD HH:mm:ss Z"),Ke.value[2].start_time=j.unix(o.thirdSaleStartTime).format("YYYY.MM.DD HH:mm:ss Z"),$e.setSaleConfig(o)},Xe=j().unix(),et=x((()=>Ue.preSaleStartTime>0&&Ue.totalSupply<=Ke.value[0].mintNum?Ue.preSaleStartTime<=Xe?(Ke.value[0].start_time="On Going",{...Ke.value[0],price:Ue.preSalePrice,isStart:!0,now:Xe,startTime:Ue.preSaleStartTime}):{...Ke.value[0],price:Ue.preSalePrice,isStart:!1,now:Xe,startTime:Ue.preSaleStartTime}:Ue.secondSaleStartTime>0&&Ue.totalSupply>Ke.value[0].mintNum&&Ue.totalSupply<=Ke.value[1].mintNum?Ue.secondSaleStartTime<Xe?(Ke.value[1].start_time="On Going",{...Ke.value[1],isStart:!0,now:Xe,startTime:Ue.secondSaleStartTime,price:Ue.secondSalePrice}):{...Ke.value[1],isStart:!1,now:Xe,startTime:Ue.secondSaleStartTime,price:!1}:Ue.thirdSaleStartTime>0&&Ue.totalSupply>Ke.value[1].mintNum?Ue.thirdSaleStartTime<=Xe?(Ke.value[2].start_time="On Going",{...Ke.value[2],isStart:!0,startTime:Ue.thirdSaleStartTime,now:Xe,price:Ue.thirdSalePrice}):{...Ke.value[2],isStart:!1,startTime:Ue.thirdSaleStartTime,now:Xe,price:Ue.thirdSalePrice}:{...Ke.value[0]}));L.get("https://api.coingecko.com/api/v3/simple/price?ids=Ethereum&vs_currencies=usd").then((e=>{200===e.status&&($e.SaleConfig.ethPrice=e.data.ethereum.usd)})),h((()=>{Qe()}));const tt=e=>{throw U.error(e),Re.value=!1,e},at=async()=>{if(!Y.value)return!1;if(1!==Ve?.value?.id)return U.error("Unsupported network. Please switch to ethereum."),!1;const e=V({addressOrName:s,contractInterface:z,signerOrProvider:H(Ae.value)}).value;let t=null;if(t=et.publicSalePrice?await e.getPublicSalePrice():Ue.preSalePrice,!t)return!1;Re.value=!0;const a=await e.totalSupply(),i=B.from(a).toNumber();switch(Ze.value>et.value.mintNum-i&&tt("Not enough quantity"),et.value.mintType){case"preSale":const a=I(t).toString(),i=Z(Le.value),n=B.from(a).mul(Ze.value),l=await R(Le.value),s={from:Le.value,value:B.from(a).mul(Ze.value)};i||tt("Your address is not on the whitelist"),ze.value.formatted<F(n)&&tt("Insufficient funds in wallet"),s.gasLimit=await e.estimateGas.preSale(Ze.value,i.max,l,s),s.gasLimit=parseInt(1.2*s.gasLimit.toNumber());try{e.preSale(Ze.value,i.max,l,s).then((e=>{try{Je.value.waitForTransaction(e.hash).then((e=>{e.status&&1===e.status&&(U.success("Mint Success"),Re.value=!1)}))}catch(t){tt("Mint Error")}})).catch((()=>{Re.value=!1}))}catch(r){tt("Mint Error")}break;case"secondSale":const o=I(Ue.secondSalePrice).toString(),d=B.from(o).mul(Ze.value);ze.value.formatted<F(d)&&tt("Insufficient funds in wallet");const m={from:Le.value,value:d};m.gasLimit=await e.estimateGas.secondSale(Ze.value,m),m.gasLimit=parseInt(1.2*m.gasLimit.toNumber()),e.secondSale(Ze.value,m).then((e=>{try{Je.value.waitForTransaction(e.hash).then((e=>{e.status&&1===e.status?(U.success("Mint Success"),Re.value=!1):(U.success("Mint Error"),Re.value=!1)}))}catch(r){U.error("Mint Error"),Re.value=!1}})).catch((()=>{Re.value=!1}));break;case"thirdSale":I(Ue.secondSalePrice).toString();const u=B.from(o).mul(Ze.value);ze.value.formatted<F(u)&&tt("Insufficient funds in wallet");const c={from:Le.value,value:u};c.gasLimit=await e.estimateGas.secondSale(Ze.value,c),c.gasLimit=parseInt(1.2*c.gasLimit.toNumber()),e.secondSale(Ze.value,c).then((e=>{try{Je.value.waitForTransaction(e.hash).then((e=>{e.status&&1===e.status?(U.success("Mint Success"),Re.value=!1):(U.success("Mint Error"),Re.value=!1)}))}catch(r){U.error("Mint Error"),Re.value=!1}})).catch((()=>{Re.value=!1}))}},it=x((()=>!et.value.isStart||$e.SaleConfig.totalSupply>=et.value.mintNum)),rt=e=>{const t=e.mintType===et.value.mintType,a=$e.SaleConfig.totalSupply<et.value.mintNum;return{"plan-active":t&&a,plan:!t||!a}},nt=e=>e.isStart?$e.SaleConfig.totalSupply<e.mintNum?"On Going":"Ended":e.start_time?e.start_time:"TBD";return(e,t)=>{const a=i,o=r,d=l,m=n;return y(),f("div",W,[g("div",q,[K,g("div",J,[g("img",{width:"340",src:b(A)},null,8,Q)]),g("div",X,[g("img",{width:"300","mx-auto":"",src:b(A)},null,8,ee)]),g("div",te,[ae,ie,b(et).isStart&&"0x0"!==b(s)?(y(),f("div",re," Mint Price ")):(y(),f("div",ne," Minting is starting soon，Time remaining ")),"0x0"!==b(s)?(y(),f("div",le,[b(et).isStart?(y(),f("div",se,[g("div",null,[b(et).price?(y(),f("div",oe,[b($e).SaleConfig.totalSupply<b(et).mintNum?(y(),f("div",de,[g("span",me,w(b(et).price)+" ETH",1),g("span",ue,"$"+w(0==parseFloat(b(et).price*b($e).SaleConfig.ethPrice).toFixed(2)?.01:parseFloat(b(et).price*b($e).SaleConfig.ethPrice).toFixed(2)),1)])):(y(),f("div",ce," Ended "))])):(y(),f("div",pe,[P(a,{color:"#C2A44D",type:"circle"})]))]),g("div",ve,[g("div",Se,[P(b($),{modelValue:b(Ze),"onUpdate:modelValue":t[0]||(t[0]=e=>T(Ze)?Ze.value=e:null),size:b(We)?"":"large",min:1,max:b(et).mintNum-b($e).SaleConfig.totalSupply>10?10:b(et).mintNum-b($e).SaleConfig.totalSupply},null,8,["modelValue","size","max"])]),P(d,null,{default:_((()=>[P(o,{class:"mobile-input-number md:w-full md:w-auto","mt-10":"","md:mt-0":"",loading:b(Re),"loading-type":"rect",disabled:b(it),"md:ml-6":"",color:"radial-gradient(100% 508.08% at 100% 12.88%, #C2A44D 0%, #6B4C19 100%)",onClick:at},{default:_((()=>[xe])),_:1},8,["loading","disabled"])])),_:1})])])):(y(),f("div",he,[P(m,{time:1e3*(b(et).startTime-b(et).now),onEnd:Qe},null,8,["time"])]))])):(y(),f("div",ye,[P(m,{time:1e3*(1672416e3-b(Xe)),onEnd:Qe},null,8,["time"])]))])]),g("div",fe,[ge,g("div",be,[(y(),f(N,null,C(qe,(e=>g("div",we,[g("div",Pe,[g("h5",Te,[_e,k(" "+w(e.title),1)]),g("p",Ne,w(e.description),1)])]))),64))])]),g("div",Ce,[ke,g("div",Ee,[(y(!0),f(N,null,C(b(Ke),((e,t)=>(y(),f("div",{key:t,"text-center":"","py-15":"",relative:"",class:E(rt(e))},[g("div",Me,w(e.planName),1),g("h5",Oe,w(e.number),1),g("p",De,w(e.type),1),0!==b($e).SaleConfig[e.mintPriceName]&&"0.0"!==b($e).SaleConfig[e.mintPriceName]?(y(),f("div",Be,[g("p",null,w(b($e).SaleConfig[e.mintPriceName])+" ETH",1),g("p",Fe,w(nt(e)),1)])):(y(),f("div",He,[b(et).index<e.index?(y(),f("div",Ie,Ye)):M("",!0),b(et).index>e.index?(y(),f("div",je,Ge)):M("",!0)]))],2)))),128))])])])}}}));"function"==typeof Y&&Y(Le)}}}));
